<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Git | Sina Iravanian]]></title>
  <link href="http://sinairv.github.io/blog/categories/git/atom.xml" rel="self"/>
  <link href="http://sinairv.github.io/"/>
  <updated>2016-11-24T16:15:28+11:00</updated>
  <id>http://sinairv.github.io/</id>
  <author>
    <name><![CDATA[Sina Iravanian]]></name>
    <email><![CDATA[sina.iravanian@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[How to Reduce the Pain of Working With TFS Using Git TFS]]></title>
    <link href="http://sinairv.github.io/blog/2016/11/24/how-to-reduce-the-pain-of-tfs-with-git-tfs/"/>
    <updated>2016-11-24T14:51:08+11:00</updated>
    <id>http://sinairv.github.io/blog/2016/11/24/how-to-reduce-the-pain-of-tfs-with-git-tfs</id>
    <content type="html"><![CDATA[<p><em>Git TFS</em> is a program that extends git commands to talk to a TFS remote repository (instead of a git repository). 
It creates a real git repository and replays the TFS history on top of it. It can be treated as a real git repository except 
for when it comes to cloning and syncing. In spite of that it still makes a programmer’s life much easier.</p>

<p>The best starting point is the <a href="https://github.com/git-tfs/git-tfs/">project’s ReadMe file on GitHub</a>. Here’s a brief overview of basic commands I needed to use.</p>

<p>To install via <a href="https://chocolatey.org/">chocolatey</a>, run:</p>

<p><code>
choco install gittfs
</code></p>

<p>Make sure to add <code>gittfs.exe</code> to path. Chocolatey installed mine in “C:\Tools\Gittfs".</p>

<p>Cloning from TFS is a bit different from that of Git:</p>

<p><code>
git tfs clone http://url-to-tfs:8080/tfs/DefaultCollection $/ProjectName
</code></p>

<p>It will create an empty git repository and then replays the TFS repository on top preserving all the history. 
If the TFS repository is too big there are some switches available to the <code>git tfs clone</code> command that allows you to <em>quickly clone</em> the latest or a specific 
revision from the history. For more information, see the documentation for <a href="https://github.com/git-tfs/git-tfs/blob/master/doc/commands/quick-clone.md"><em>quick-clone</em></a>. </p>

<p>After cloning, it has created a <em>real</em> git repository to which you can make as many local commits as you like. 
To push your local commits (or <em>check-in</em> in TFS terminology) you need to run the following command:</p>

<p><code>
git tfs rcheckin
</code></p>

<p>The <a href="https://github.com/git-tfs/git-tfs/blob/master/doc/commands/rcheckin.md"><code>rcheckin</code></a> command will 
preserve all outstanding local commits and checks them in one by one to the remote TFS repository. Note that <code>git push</code> doesn’t work here as there’s no standard git remote being tracked.</p>

<p>There are other alternatives to <code>rcheckin</code>, such as <code>git tfs checkin -m "message"</code> which squashes your local commits into one using the specified message, or 
<code>git tfs checkintool</code> which opens up the TFS tools checkin window to perform the check-in. My preference is <code>rcheckin</code> because it keeps me mindful of my local commits, 
and abstracts TFS away better than others.   </p>

<p>To update local repository with remote changes made in TFS <code>default</code> branch, you can pull and rebase, which is my preference:</p>

<p><code>
git tfs pull --rebase
</code></p>

<p>Pretty much like git, it pulls down outstanding remote commits and then replays local commits on top of it avoiding the need for an extra merge commit. 
Alternatively you can also pull and merge:</p>

<p><code>
git tfs pull
</code></p>

<p>which may end up creating a merge commit on top of your local changes (unless it can fast-forward). Have a look at documentations for 
<a href="https://github.com/git-tfs/git-tfs/blob/master/doc/commands/pull.md">git tfs pull</a> to learn more about pulling from branches other than <code>default</code>.</p>

<p>As you can see when it comes to cloning and syncing, the commands are different from those of standard git. 
However the fact that you can easily modify the files you need to modify, have a much better diff status of what has been 
changed before every commit, and possibility of using your git client and tools that you like are what makes life easier with Git TFS.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using Git With GitHub on Windows]]></title>
    <link href="http://sinairv.github.io/blog/2012/05/05/using-git-with-github-on-windows/"/>
    <updated>2012-05-05T16:25:00+10:00</updated>
    <id>http://sinairv.github.io/blog/2012/05/05/using-git-with-github-on-windows</id>
    <content type="html"><![CDATA[<p>If you’re new to Git and don’t know how to install Git on Windows, read my earlier post: <a href="/blog/2012/05/01/how-to-setup-git-for-windows/">How to Setup Git for Windows</a></p>

<p>In an earlier <a href="/blog/2012/05/02/using-git-with-codeplex-on-windows/">post</a>, I described the preliminary steps required to work with git on CodePlex. However using git with<a href="https://github.com/">GitHub</a> requires more initial steps.</p>

<p><strong>Generating SSH Keys.</strong> Before proceeding to Git operations we need to create SSH public and private keys, and register the public key on the GitHub site. In order to generate the keys we can use PuTTY Key Generator, which is already bundled with TortoiseGit fortunately. This program is called “Puttygen” and can be found in start-menu under TortoiseGit:</p>

<p><img src="/images/posts/tortoisegit-puttygen.png" alt="puttygen under TortoiseGit in Windows start-menu" /></p>

<p>After running Puttygen you need to press “Generate”, and make some crazy mouse movements in the spotted area to provide some random data for the program (wow, what a brilliant idea). When finished you will have the public key generated. It is recommended that you provide a passphrase so that you would have a more secure private key. After that save your public and private keys using the 2 save buttons near the bottom of the window. But these are not all that you need to save! The public key format that GitHub and some other applications require you to provide is not the one that this program has saved for you. The topmost field which is labelled “Public key for passing into OpenSSH authorized_keys file” is the one that GitHub needs. It should be in one line (i.e., with no line-breaks), therefore we would refer to it later as the one-line-public-key. Please save the contents of this field and the next “key fingerprint” field somewhere for future references.</p>

<p><img src="/images/posts/puttygenfields.png" alt="Puttygen fields" /></p>

<p><strong>Registering SSH Keys in GitHub.</strong> Browse to GitHub, and go to your Account Seetings, and select SSH Keystherein. Press the Add SSH key button on the right. Provide a name for the key (I chose TortoiseGit), and paste the one-line-public-key in the Key field. Press Add Key. You may be prompted for your GitHub account password next. When finished, GitHub adds this key to its list of keys and provides a fingerprint. Make sure this fingerprint matches the key fingerprint that Puttygen created for you.</p>

<p><strong>Creating a Repository in GitHub.</strong> Browse to the GitHub page and press the “Create a New Repo” button at the top of the page.</p>

<p><img src="/images/posts/githubnewrepo.png" alt="GitHub Create New Repo" /></p>

<p>In the new form that appears, enter desired values for your project’s name and description. Currently there’s an option to add a README file or an appropriate <code>.gitignore</code> file to the repository. While making use of these options are recommended, in this tutorial I intend to start from a completely empty repository; therefore I unchecked those options. When finished press the “Create repository” button. With these steps I created a project called “PdfRenamer”.</p>

<p><strong>Setting up TortoiseGit for the new project.</strong> After creating the repository, GitHub introduces some helpful basic commands to start working with the repository. We don’t intend to use the command-line, however this page contains useful information such as user-name and email with which GitHub recognizes you, and the git repository address, as highlighted below:</p>

<p><img src="/images/posts/githubnewprojectaddressandusername1.png" alt="GitHub New Project Address And User-Name" /></p>

<p>We need to do the following steps next:</p>

<ol>
  <li>Right click somewhere in the Windows explorer window, and from the context-menu go to: TortoiseGit &gt; Settings » Git branch; and fill the user-name and email fields with the ones suggested by GitHub, and press OK.</li>
  <li>Create a folder preferably with the same name as your project (in my case PdfRenamer), and browse into it with Windows explorer.</li>
  <li>Right click somewhere in the folder and from the context menu select “Git Create repository here…”. A window pops-up. Make sure that “Make it Bare” is not checked; and press OK.</li>
  <li>Right click somewhere in the folder and from the context menu go to: TortoiseGit &gt; Settings » Git branch » Remote sub-branch. In the “Remote” field enter “origin”, in the URL field enter the git repository address which was highlighted above and is in the form of <code>git@github.com:[username]/[projectname].git</code>; and finally in front of “putty key” provide the address to the SSH private key which we saved earlier in this tutorial, and has the <code>.ppk</code> extension. When finished press the “Add New/Save” button. After that origin should be added to the list of Remotes.</li>
</ol>

<p><img src="/images/posts/tortoisegitremotesetting.png" alt="TortoiseGit Remote Setting" /></p>

<p><strong>Add files to the project structure.</strong> With git, adding a file to a project structure and having it reflected in the remote repository requires 3 operations: add, commit, and push. The first 2 operations are required for adding the file to the local repository, and the third one reflects the changes to the remote repository. This last operation can be postponed to a later time when you want to push a bundle of changes all at once.</p>

<p>To start, create a <code>Readme.txt</code> file in the root folder. Right click on the newly added file, from the context menu select: TortoiseGit &gt; add; check the files to be added, and press OK. This was the first operation: add. In the new window press “commit …”, provide a meaningful commit message in the new window, and press OK when finished. This was the second operation: commit which reflects the changes to your local repository, the one in your hard-drive. You can push the changes in the next window if you want, however it’s not a good idea to push every local commit to the remote repository (that’s why we are using a DVCS after all).</p>

<p>Before continuing to the push command, let’s talk about some naming conventions in the Git world. With DVCSs such as git you can have different remote repositories which you may choose from to push your changes to. By convention, the default name for the remote repository is “origin”. In our case origin is the remote repository at the GitHub server, for which we manually added the link before. On the other hand, each project may have several branches. Conceptually a branch is another copy of the same project where other features are developed and tested. For example imagine that at a certain stage of development you may decide to add a new feature to your project. You may create a new branch called “test”, develop and test the feature there, and finally merge the changes with the code at the main branch. By convention, the main branch is called “master”.</p>

<p>When it comes to push, you need to know which branch of the code you want to push to which remote repository. In our simple case we want to push the master branch to the origin repository. For this purpose, right click somewhere on the Windows explorer that shows the project root folder, and select: TortoiseGit &gt; Push…. Make sure the name of the branches for local and remote repositories and the name of the remote repository are selected correctly. More importantly make sure that the “Autoload Putty Key” check-box is also checked, and press OK. Next, the TortoiseGit will prompt you for the private-key passphrase. Note that this is not your GitHub account password, this is the passphrase that you chose when creating the private key with Puttygen. After finishing the push operation, check the sources in the project’s GitHub page to make sure the changes have been reflected there. Note that after the first push, the PuTTY authentication agent (Pageant) gets run in the background, so that you won’t need to enter the passphrase any time you want to push to GitHub.</p>

<p><strong>Updating the local repository with the latest changes made by other team members to the remote repository.</strong> Well, there are two solutions. The one that I prefer is using git pull. You can easily find this command in the TortoiseGit’s context menu. The pull command, preserves the history of changes made by different people and makes a final merge afterwards. The other solution is git fetch and rebase. The fetch command only receives the latest changes from the remote repository but does not apply them. The rebase command first applies the remote changes to the repository, then applies your changes. Therefore it always seems that you have made the recent changes, while it may not be true. See this <a href="http://stackoverflow.com/questions/3357122/git-pull-vs-git-fetch-git-rebase">stackoverflow question</a> for a better explanation.</p>

<p><strong>Note:</strong> At any stage, if git complains about connecting through a null proxy, then you will have to remove proxy settings from the global <code>.gitconfig</code> file. For more information see tip 7 on my earlier <a href="/blog/2012/05/01/how-to-setup-git-for-windows/">post</a></p>

<p>You may also want to see my earlier <a href="/blog/2012/05/02/using-git-with-codeplex-on-windows/">post</a> that describes using git with <a href="http://www.codeplex.com/">CodePlex</a> on Windows.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using Git With CodePlex on Windows]]></title>
    <link href="http://sinairv.github.io/blog/2012/05/02/using-git-with-codeplex-on-windows/"/>
    <updated>2012-05-02T10:50:41+10:00</updated>
    <id>http://sinairv.github.io/blog/2012/05/02/using-git-with-codeplex-on-windows</id>
    <content type="html"><![CDATA[<p>If you’re new to Git and don’t know how to install Git on Windows, read my earlier post: <a href="/blog/2012/05/01/how-to-setup-git-for-windows/">How to Setup Git for Windows</a></p>

<p>On 21 March 2012, the <a href="http://www.codeplex.com/">CodePlex</a> team <a href="http://blogs.msdn.com/b/codeplex/archive/2012/03/21/git-commit-m-codeplex-now-supports-git.aspx">announced</a> their support for Git.</p>

<p>Creating a project with Git as source control is very easy in CodePlex and is done with a few clicks at no time. Suppose the project name is <code>CodePlexGitTest</code>. In order to make any changes to the project structure you need to clone the project first. This way you will have your own copy of the repository on your hard disk. To do this, the path to the git repository is needed. This can be obtained from the <em>Source Code</em> tab of the project’s CodePlex page, by pressing the <em>Git</em> link/button under <em>“Source Control”</em> section on the right pane, as seen below:</p>

<p><img src="/images/posts/codeplexgit.png" alt="CodePlex Git settings" /></p>

<p>In order to clone the project, move to the folder that is going to host the project directory. Right click somewhere in the Windows explorer window and choose <em>Git Clone</em>. In the opened window set the <em>“Url”</em> field to the <em>“Clone URL”</em> value above, leave other options unchanged, and press OK. After prompting for your CodePlex user-name and password, it should now create the folder structure for your empty repository (<strong>Note</strong>: in case that git complains about connecting through a <em>null</em> proxy, then you will have to remove proxy settings from the global <code>.gitconfig</code> file. For more information see tip 7 on my earlier <a href="/blog/2012/05/01/how-to-setup-git-for-windows/">post</a>).</p>

<p>Now that you have the currently empty project structure at your hard-drive, it’s time to add some files to it. Using git, adding a file to a project structure and having it reflected in the remote repository requires 3 operations: <em>add</em>, <em>commit</em>, and <em>push</em>. The first 2 operations are required for adding the file to the local repository, and the third one reflects the changes to the remote repository. This last operation can be postponed to a later time when you want to push a bundle of changes all at once.</p>

<p>To start, create a <code>Readme.txt</code> file in the root folder. Right click on the newly added file, from the context menu select: <em>TortoiseGit &gt; add</em>; check the files to be added, and press OK. This was the first operation: <em>add</em>. In the new window press <em>“commit …”</em>, provide a meaningful commit message in the new window, and press OK when finished. This was the second operation: <em>commit</em> which reflects the changes to your local repository, the one in your hard-drive. You can push the changes in the next window if you want, however it’s not a good idea to push every local commit to the remote repository (that’s why we are using a DVCS after all).</p>

<p>Before continuing to the <em>push</em> command, let’s talk about some naming conventions in the git world. With DVCSs such as git you can have different remote repositories which you may choose from to push your changes to. By convention, the default name for the remote repository is <em>“origin”</em>. In our case origin is the remote repository at the CodePlex server. On the other hand, each project may have several branches. Conceptually a branch is another copy of the same project where other features are developed and tested. For example imagine that at a certain stage of development you may decide to add a new feature to your project. You may create a new branch called <em>“test”</em>, develop and test the feature there, and finally merge the changes with the code at the main branch. By convention, the main branch is called <em>“master”</em>.</p>

<p>When it comes to <em>push</em>, you need to know which branch of the code you want to push to which remote repository. In our simple case we want to push the <em>master</em> branch to the <em>origin</em> repository. For this purpose, right click somewhere on the Windows explorer that shows the project root folder, and select: <em>TortoiseGit &gt; Push…</em>. Make sure the name of the branches for local and remote repositories and the name of the remote repository are selected correctly, and press OK. Enter CodePlex user-name and passwords which are prompted. Now check the sources in the project’s CodePlex site to make sure the changes have been reflected there.</p>

<p>How to update the local repository with the latest changes made by other team members to the remote repository? Well, there are two solutions. The one that I prefer is to use git <em>pull</em>. You can easily find this command in the TortoiseGit’s context menu. The <em>pull</em> command, preserves the history of changes made by different people and makes a final merge afterwards. The other solution is git <em>fetch</em> and <em>rebase</em>. The <em>fetch</em> command only receives the latest changes from the remote repository but does not apply them. The <em>rebase</em> command first applies the remote changes to the repository, then applies your changes. Therefore it always seems that you have made the recent changes, while it may not be true. See this <a href="http://stackoverflow.com/questions/3357122/git-pull-vs-git-fetch-git-rebase">stackoverflow question</a> for a better explanation.</p>

<p>See also:  <br />
<a href="/blog/2012/05/01/how-to-setup-git-for-windows/">How to Setup Git for Windows</a>  <br />
<a href="/blog/2012/05/05/using-git-with-github-on-windows/">Using Git With GitHub on Windows</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Setup Git for Windows]]></title>
    <link href="http://sinairv.github.io/blog/2012/05/01/how-to-setup-git-for-windows/"/>
    <updated>2012-05-01T23:27:40+10:00</updated>
    <id>http://sinairv.github.io/blog/2012/05/01/how-to-setup-git-for-windows</id>
    <content type="html"><![CDATA[<p>These are some easy steps required to setup Git for Windows:</p>

<ol>
  <li>
    <p>Download msysGit from: http://code.google.com/p/msysgit  <br />
I prefer to use the portable version. At the time of this writing there’s no difference between 32 bit and 64 bit versions and the filename for the portable version is: <code>PortableGit-1.7.10-preview20120409.7z</code>. Currently it seems that the development of the project has been moved to <a href="http://github.com/msysgit">GitHub</a>, but the releases are still located in Google Code.</p>
  </li>
  <li>
    <p>Extract the contents in a proper location. I made them into:  <br />
<code>D:\PortableProgs\msysGit</code></p>
  </li>
  <li>
    <p>If you intend to use the git command-line for every git operation simply run <code>git-bash.bat</code> in the root folder of <em>msysGit</em>. This is the old lovely <em>Cygwin</em> command-line.</p>
  </li>
  <li>
    <p>If you don’t intend to use command-line (like me) install <em>TortoiseGit</em>. It is hosted on Google Code:  <br />
http://code.google.com/p/tortoisegit/  <br />
Note that it comes with different releases for 32-bit and 64-bit systems. At the time of this writing the latest version is 1.7.8.0. After installing <em>TortoiseGit</em> you may need to restart Windows, or the Windows explorer process, or none.</p>
  </li>
  <li>
    <p>Right click somewhere on a Windows Explorer window, and from the context menu select: <em>TortoiseGit &gt; Settings</em>. There will be a message-box appearing begging for adjusting the path to <em>msysGit</em>. Click on “Set MSysGit path” button (If you have ever missed this window, or want to change the path to an already existing <em>msysGit</em>, simply go to: <em>TortoiseGit &gt; Settings » the General branch</em>).  <br />
In the field titled as <em>“Git.exe path:”</em> enter the path to the <em>bin</em> folder of the <em>msysGit</em> installation/copy.</p>
  </li>
  <li>
    <p>You don’t have to, but it is highly recommended that before starting any git operations you set some global settings such as your name, email, and AutoCrlf. To this aim in the Windows explorer’s context menu go to: <em>TortoiseGit &gt; Settings » the Git branch</em>. Fill in the fields labelled <em>Name</em> and <em>Email</em> with proper values. Then make sure that <em>AutoCrlf</em> check-box is unchecked, so that you don’t touch every file in order to change their line-endings. Read more about this kind of problem <a href="http://code52.org/line-endings.html">here</a>, and see <a href="http://stackoverflow.com/questions/4181870/git-on-windows-what-do-the-crlf-settings-mean">here</a> to know more what AutoCrlf and SafeCrlf options do for you.</p>
  </li>
  <li>
    <p><strong>[UPDATED on 3 May 2012]</strong> When performing some git operations, git may complain that it cannot connect through a <em>null</em> proxy. It may happen for some versions if in git settings the value for proxy is assigned to an empty string. If this is the case for you, simply remove proxy settings in the global <code>.gitconfig</code> file. To do this, right click somewhere in Windows explorer, go to: <em>TortoiseGit &gt; Settings » The Git Branch » Edit Global .gitconfig button</em>. From there remove the line that assigns proxy, or the whole <code>[http]</code> section if it only contains proxy settings.</p>
  </li>
</ol>

<p>See also:  <br />
<a href="/blog/2012/05/02/using-git-with-codeplex-on-windows/">Using Git With CodePlex on Windows</a>  <br />
<a href="/blog/2012/05/05/using-git-with-github-on-windows/">Using Git With GitHub on Windows</a></p>
]]></content>
  </entry>
  
</feed>
