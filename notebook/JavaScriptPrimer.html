
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A JavaScript Primer - Sina Iravanian</title>
  <meta name="author" content="Sina Iravanian">

  
  <meta name="description" content="A JavaScript Primer Table of Contents: Basic Concepts Objects Arrays Functions Reflection Inheritance and Prototype Chain Emulating maps with &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sinairv.github.io/notebook/JavaScriptPrimer.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Sina Iravanian" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46467071-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Sina Iravanian</a></h1>
  
    <h2>I blog about software development</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:sinairv.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/works">Works</a></li>
  <li><a href="/notebook">Notebook</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">A JavaScript Primer</h1>
    
  </header>
  
  <p>Table of Contents:</p>

<ul id="markdown-toc">
  <li><a href="#basic-concepts">Basic Concepts</a></li>
  <li><a href="#objects">Objects</a></li>
  <li><a href="#arrays">Arrays</a></li>
  <li><a href="#functions">Functions</a></li>
  <li><a href="#reflection">Reflection</a></li>
  <li><a href="#inheritance-and-prototype-chain">Inheritance and Prototype Chain</a></li>
  <li><a href="#emulating-maps-with-objects">Emulating maps with objects</a></li>
  <li><a href="#self-invoking-functions">Self-invoking functions</a></li>
  <li><a href="#theargumentsmap">The arguments map</a></li>
  <li><a href="#regular-expressions">Regular Expressions</a></li>
  <li><a href="#the-use-strict-statement">The ‘use strict’ statement</a></li>
</ul>

<p>These are lessons learned when I tried to strengthen my JavaScript skills, by learning from these <a href="/blog/2012/05/27/programming-koans-one-of-the-best-ways-to-learn-a-new-language-or-framework/">Koans</a>:</p>

<ol>
  <li>JavaScript Koans by Liam McLennan, hosted on <a href="https://github.com/liammclennan/JavaScript-Koans">GitHub</a></li>
  <li>JavaScript Koans by David Laing, again hosted on <a href="https://github.com/mrdavidlaing/javascript-koans">GitHub</a></li>
</ol>

<p>I highly recommend learning from both of these Koans in the same order as specified above. The first one is easier to start with. While the second one is a smaller set of Koans, but gets more advanced, and contains an introduction to <a href="http://underscorejs.org/">Underscore.js</a> as well.</p>

<p>I come from a C#, Java, and C++ background, so that it’s probable that my terminology is not consistent with those used by the JavaScript community; particularly when it comes to object oriented concepts.</p>

<p>To test the code snippets here, you will need to host the JavaScript code within an html page, and open that page into your browser. A simple way is using the following template:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; </span>
</span><span class="line"><span class="cp">    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
</span><span class="line"><span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
</span><span class="line">    <span class="nt">&lt;head&gt;</span>
</span><span class="line">        <span class="nt">&lt;script </span><span class="na">language=</span><span class="s">&quot;javascript&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class="line">            <span class="c1">// TODO: put other JavaScript codes here</span>
</span><span class="line">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Hi&quot;</span><span class="p">);</span>
</span><span class="line">        <span class="nt">&lt;/script&gt;</span>
</span><span class="line">        <span class="nt">&lt;title&gt;</span>JavaScript Testing...<span class="nt">&lt;/title&gt;</span>
</span><span class="line">    <span class="nt">&lt;/head&gt;</span>
</span><span class="line"><span class="nt">&lt;body&gt;</span>
</span><span class="line">    <span class="nt">&lt;h1&gt;</span>Let&#39;s See...<span class="nt">&lt;/h1&gt;</span>
</span><span class="line"><span class="nt">&lt;/body&gt;</span>
</span><span class="line"><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The examples in this post make use of <code>console.log</code> function to print to the output. To view the results on the browser console do the following in each browser:</p>

<ul>
  <li>Google Chrome (19.x and most probably others): Press F12, and go to the Console tab</li>
  <li>Mozilla Firefox (12.0 and most probably others): go to Firefox main menu &gt; Web Developer &gt; Web Console (Ctrl + Shift + K)</li>
  <li>Microsoft Internet Explorer (9): Press F12, and go to the Console tab</li>
</ul>

<h3 id="basic-concepts">Basic Concepts</h3>
<p><strong>Comparison and Equality.</strong> Comparison via <code>==</code> Considers equality, regardless of type.</p>

<p>Comparison via <code>===</code> checks identity, and types must match. Always use this syntax, if possible.</p>

<p>Corresponding inequality operators are: <code>!==</code> and <code>!===</code> . These are some examples of the behaviour of the equality operator:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">3</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">);</span>  <span class="c1">// true: equality with type correction</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">3</span> <span class="o">===</span> <span class="s2">&quot;3&quot;</span><span class="p">);</span> <span class="c1">// false: equality without type correction</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">3</span> <span class="o">===</span> <span class="mi">3</span><span class="p">);</span>   <span class="c1">// true</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">3</span> <span class="o">===</span> <span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>More examples for odd behaviours of <code>==</code> operator. The result to all the examples below would be <code>false</code> if we use<code>===</code> instead of <code>==</code>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">0</span> <span class="o">==</span> <span class="kc">false</span><span class="p">);</span>  <span class="c1">// true</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="kc">true</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>   <span class="c1">// true</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="kc">true</span> <span class="o">==</span> <span class="mi">5</span><span class="p">);</span>   <span class="c1">// *false*</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;&quot;</span> <span class="o">==</span> <span class="kc">false</span><span class="p">);</span> <span class="c1">// true</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;&quot;</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>     <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Note that <code>NaN</code> (short for not a number) is never equal to itself! It must always be checked using the function <code>isNaN</code>.</p>

<p>Strings enclosed in single-quotes and double-quotes are the same. Note that in JavaScript there’s no such thing as character data-types.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;something&quot;</span> <span class="o">===</span> <span class="s1">&#39;something&#39;</span><span class="p">);</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Global variables</strong> are assigned to the <code>window</code> object:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">temp</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// note that it does not start with `var`</span>
</span><span class="line">    <span class="nx">equals</span><span class="p">(</span><span class="nx">temp</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">temp</span><span class="p">,</span> <span class="s1">&#39;global variables are assigned to the window object&#39;</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Creating objects from anonymous types</strong>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">age</span><span class="o">:</span> <span class="mi">27</span>
</span><span class="line"><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Enumerating properties of an object with the <code>for in</code> loop</strong>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">age</span><span class="o">:</span> <span class="mi">27</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
</span><span class="line"><span class="c1">// for in enumerates the property names of an object</span>
</span><span class="line"><span class="k">for</span> <span class="p">(</span><span class="nx">property_name</span> <span class="k">in</span> <span class="nx">person</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">result</span> <span class="o">=</span> <span class="nx">result</span> <span class="o">+</span> <span class="nx">property_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> <span class="c1">// name age</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Null coalescing operator</strong>: The same as C#’s <code>??</code> operator, is logical OR <code>||</code> in Javascript. If the first argument (the one at left-hand-side of <code>||</code>) is null, it chooses the second argument (the one at the right-hand-side of <code>||</code>):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="kc">null</span> <span class="o">||</span> <span class="s2">&quot;a value&quot;</span><span class="p">;</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> <span class="c1">// a value</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>See this wondoerful explanation <a href="http://stackoverflow.com/a/476445/836432">here</a>.</p>

<p><strong>Sinagle vs Double quoted strings.</strong> They are the same and of the same type.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;str1&quot;</span> <span class="o">===</span> <span class="s1">&#39;str1&#39;</span><span class="p">);</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>tyepof</strong>. It receives an object as an argument and returns its type (as opposed to C#, it does not need the type-name as the argument).</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">number</span>
</span><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">number</span>
</span><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="s2">&quot;Hi&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">string</span>
</span><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="s1">&#39;Hi&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">string</span>
</span><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">string</span>
</span><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="s2">&quot;Hi&quot;</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="nx">string</span>
</span><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="o">-&gt;</span> <span class="kr">boolean</span>
</span><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">object</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As you see, there’s no such thing as character type, they’re all strings.</p>

<p>The type informations are also strings:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="mf">2.0</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="nx">string</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>How to include unicode chars in a string.</strong></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">stringWithAnEscapedCharacter</span>  <span class="o">=</span> <span class="s2">&quot;\u0041pple&quot;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>The string <code>slice</code> method.</strong> returns a substring of the given string. This is the syntax of the method [<a href="http://www.w3schools.com/jsref/jsref_slice_string.asp">+</a>]:<code>string.slice(start,end)</code>.</p>

<ul>
  <li><code>start</code>: Required. The index where to begin the extraction.</li>
  <li><code>end</code>: Optional. The index (up to, but not including) where to end the extraction, If omitted, slice() selects all characters from the start-position to the end of the string.</li>
</ul>

<p><strong>NaN</strong> (short for not a number) is the result of failed arithmatic operations. Two NaN objects are not equal to each other, always use the <code>isNaN</code> function to check.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">resultOfFailedOperations</span> <span class="o">=</span> <span class="mi">7</span><span class="o">/</span><span class="s1">&#39;apple&#39;</span><span class="p">;</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">resultOfFailedOperations</span><span class="p">));</span> <span class="c1">// true</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resultOfFailedOperations</span> <span class="o">==</span> <span class="kc">NaN</span><span class="p">);</span> <span class="c1">// false</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="objects">Objects</h3>
<p>Empty objects (no properties, no methods): <code>var empty_obj = {};</code></p>

<p>Objects can have properties in definition:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">age</span><span class="o">:</span> <span class="mi">28</span>
</span><span class="line"><span class="p">};</span> 
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Or properties can be added later:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">;</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Properties can be added from strings dynamically:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">;</span>
</span><span class="line"><span class="nx">myObject</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">28</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Objects can have methods, and fields can be accessed via the <code>this</code> qualifier:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">age</span><span class="o">:</span> <span class="mi">28</span><span class="p">,</span>
</span><span class="line">    <span class="nx">toString</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="s2">&quot;I&#39;m &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Properties can be accessed by their name in the code, as in: <code>myObject.name</code> or accessed from a string at run-time, as in: <code>myObject["name"]</code>.</p>

<h3 id="arrays">Arrays</h3>

<p>Arrays can contain objects from different types:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">favouriteThings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cellar door&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="kc">true</span><span class="p">];</span> 
</span><span class="line"><span class="c1">// array elements do not have to be of the same type</span>
</span><span class="line"><span class="c1">// elements are referenced by [] indexer</span>
</span><span class="line"><span class="c1">// favouriteThings[1] -&gt; 42</span>
</span><span class="line"><span class="c1">// array type is &quot;object&quot;</span>
</span><span class="line"><span class="c1">// typeof(favouriteThings) -&gt; &quot;object&quot;</span>
</span><span class="line"><span class="c1">// the length is accessed via .length property</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Creating arrays with a predefined length:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span> <span class="c1">// 10</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span> <span class="c1">// [undefined × 10]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Or one can explicitly assign to the <code>array.length</code> property. Note that if the new value is less than the original array size, the trailing elements will be removed:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">];</span>
</span><span class="line"><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span> <span class="c1">// 5</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span> <span class="c1">// [1, 2, 3, 4, 5] </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Note:</strong> The <code>for in</code> loop in arrays, iterates through the indices only, not the values.</p>

<p><strong>Arrays are passed to functions by reference.</strong> Therefore any change to the passed array in the body of the function will modify the original array too. Also when assignments are done, the reference to tha array is assigned, hence this also has the risk of modifying the original array:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">changeArray</span><span class="p">(</span><span class="nx">someArray</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">someArray</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="nx">changeArray</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span> <span class="c1">// [0, 10, 2, 3, 4, 5]</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">anotherArr</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">;</span>
</span><span class="line"><span class="nx">anotherArr</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span> <span class="c1">// [0, 10, 2, 3, 40, 5]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>You can create a copy of an array using <code>arr.slice()</code>.</p>

<p><strong>Array <code>join</code> method</strong> creates a string by concatenating all array members using the provided separator:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="s2">&quot;hi&quot;</span><span class="p">];</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">));</span>
</span><span class="line"><span class="c1">// 1,2,false,4.5,hi</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Array <code>slice</code> method.</strong> Returns the sub-array of a given array, from the first index inclusive, to the second index exclusive; or returns an empty array if the provided indices do not match a valid range within the provided array:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
</span><span class="line"><span class="c1">// [2, 3]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The <code>slice</code> function, when called without arguments creates a copy of the array. Changing the copied arrays elements will not affect the original array’s contents.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">copyOfArr</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Array <code>splice</code> method.</strong> The <code>splice</code> method adds/removes items to/from an array, and returns the removed item(s) if any [<a href="http://www.w3schools.com/jsref/jsref_splice.asp">+</a>].</p>

<p>Syntax: <code>array.splice(index,howmany,item1,.....,itemX)</code></p>

<p>Parameter Values:</p>

<ul>
  <li><code>index</code>: Required. An integer that specifies at what position to add/remove items, Use negative values to specify the position from the end of the array</li>
  <li><code>howmany</code>: Required. The number of items to be removed. If set to 0, no items will be removed</li>
  <li><code>item1, ..., itemX</code>: Optional. The new item(s) to be added to the array</li>
</ul>

<p>Return Value:</p>

<p>Type: Array; A new array containing the removed items, if any</p>

<p>This is a demo of <code>splice</code>. Note that, only when we remove items from an array, the method returns the removed items.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">array1</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Empty Array:\n&quot;</span> <span class="o">+</span> <span class="nx">array1</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">array2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Array2:\n&quot;</span> <span class="o">+</span> <span class="nx">array2</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">array3</span> <span class="o">=</span> <span class="nx">array2</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">2.25</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;array2 after additive splice():\n&quot;</span> <span class="o">+</span> <span class="nx">array2</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;returned array from additive splice():\n&quot;</span> <span class="o">+</span> <span class="nx">array3</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">array4</span> <span class="o">=</span> <span class="nx">array2</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;array2 after deductive splice()\n&quot;</span> <span class="o">+</span> <span class="nx">array2</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;returned array from deductive splice()\n&quot;</span> <span class="o">+</span> <span class="nx">array4</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">//Empty Array:</span>
</span><span class="line"><span class="c1">// </span>
</span><span class="line"><span class="c1">//Array2:</span>
</span><span class="line"><span class="c1">//1,2,3,4 </span>
</span><span class="line"><span class="c1">//array2 after additive splice():</span>
</span><span class="line"><span class="c1">//1,2,2.25,2.5,2.75,3,4 </span>
</span><span class="line"><span class="c1">//returned array from additive splice():</span>
</span><span class="line"><span class="c1">// </span>
</span><span class="line"><span class="c1">//array2 after deductive splice()</span>
</span><span class="line"><span class="c1">//1,2,3,4 </span>
</span><span class="line"><span class="c1">//returned array from deductive splice()</span>
</span><span class="line"><span class="c1">//2.25,2.5,2.75</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Array stack methods: <code>push</code> and <code>pop</code>.</strong> Javascript arrays have <code>push</code> and <code>pop</code> methods. <code>push</code> inserts at the end of an array, and <code>pop</code> removes from the end of an array. The <code>push</code> function can receive more than 1 argument to add to the end of an array.</p>

<p><strong>Array <code>unshift</code> and <code>shift</code> methods.</strong> The <code>unshift</code> method inserts one or more items at the beginning of an array, while <code>shift</code> removes one item from the beginning of an array [<a href="http://www.w3schools.com/jsref/jsref_unshift.asp">+</a>, <a href="http://www.w3schools.com/jsref/jsref_shift.asp">+</a>].</p>

<h3 id="functions">Functions</h3>

<p>This is the way a named function can be defined in JavaScript:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">fname</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="c1">// body</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>But the following syntax, is assigning a variable to an anonymous function:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">fn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="c1">// body</span>
</span><span class="line"><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>and as seen above we receive a warning if we don’t put a semicolon after the closing brace. That’s because it is just an assignment statement, but a little bit fatter.</p>

<p>Invokation of both is the same: <code>fn()</code>, and <code>fname()</code>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;function&quot;</span>
</span><span class="line"><span class="k">typeof</span><span class="p">(</span><span class="nx">fname</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;function&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The <code>toString</code> method of each function returns the signature and the body of a function as well as its comments. See the result of <code>fn.toString()</code> or <code>fname.toString()</code> to get amazed.</p>

<p><strong>The <code>Function</code> object.</strong> An alternative way to defining functions is creating an object from <code>Function</code>, and providing all the details in arguments as strings, e.g.:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">add</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;return a + b;&quot;</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span> <span class="c1">// 3</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Functions can return functions.</strong> See this nice example from <a href="https://github.com/mrdavidlaing/javascript-koans">JavaScript Koans by David Laing</a>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">makeIncreaseByFunction</span><span class="p">(</span><span class="nx">increaseByAmount</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">increaseByFunction</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">increaseBy</span><span class="p">(</span><span class="nx">numberToIncrease</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="nx">numberToIncrease</span> <span class="o">+</span> <span class="nx">increaseByAmount</span><span class="p">;</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">increaseByFunction</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">increaseBy3</span> <span class="o">=</span> <span class="nx">makeIncreaseByFunction</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">increaseBy5</span> <span class="o">=</span> <span class="nx">makeIncreaseByFunction</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">increaseBy3</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="nx">increaseBy5</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span> <span class="c1">// 28;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="reflection">Reflection</h3>

<p>Properties of an object can be accessed at run-time via the <code>for in</code> loop. This function, prints the properties of an object as well as their values:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">printProps</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">);</span>
</span><span class="line">    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">propName</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">propName</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">propName</span><span class="p">]);</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The <code>in</code> keyword, when not used along with the <code>for</code> loop, can be used to check whether an object has a specific property with the given name:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">29</span> <span class="p">};</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">hasName</span> <span class="o">=</span> <span class="s2">&quot;name&quot;</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">;</span>     <span class="c1">// true</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">hasFamily</span> <span class="o">=</span> <span class="s2">&quot;family&quot;</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">;</span> <span class="c1">// false</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Object Constructor functions</strong>: A function with a typical signature, but used for initializing objects. These functions usually assign fields using the <code>this</code> qualifier. Note that after each assignment, the specified field will be created, it doesn’t need to be declared beforehand:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">fnObject</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span><span class="p">;</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The above code can be regarded as the constructor of an object, with 2 fields namely <code>name</code>, and <code>age</code>. This is how we can instantiate this object with the <code>new</code> keyword:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">fnObject</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>You can add properties at runtime to an instantiated object, not the class/prototype, via this syntax:<code>obj["newprop"] = "newvalue";</code></p>

<p><strong>How to add properties to a class/object prototype?</strong> Via the <code>prototype</code> chain. E.g., to add a property to the<code>fnObject</code> statically (namely <code>weight</code>) use the following syntax. The property will be added to all instances of the class:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">fnObject</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">weight</span> <span class="o">=</span> <span class="mf">75.0</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To do the same job dynamically use the following syntax:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">fnObject</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">75.0</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To add a set of properties which currently exist in another class, simply set the <code>prototype</code> property with a new instance of that class. For example:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">fnObj2</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">salary</span> <span class="o">=</span> <span class="mf">20.0</span><span class="p">;</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">eyeColor</span> <span class="o">=</span> <span class="s2">&quot;Brown&quot;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">fnObject</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">fnObj2</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Then objects from <code>fnObject</code> will have the following properties: <code>{name, age, salary, eyeColor}</code>. This reminds us of inheritance.</p>

<p>As another example, take a look at this piece of code from <a href="https://github.com/mrdavidlaing/javascript-koans">JavaScript Koans by David Laing</a>, that demonstrates attaching a function to an object vs to a class (or object prototype):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">Circle</span><span class="p">(</span><span class="nx">radius</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">=</span> <span class="nx">radius</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">simpleCircle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circle</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">colouredCircle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circle</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span><span class="line"><span class="nx">colouredCircle</span><span class="p">.</span><span class="nx">colour</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">;</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">simpleCircle</span><span class="p">.</span><span class="nx">colour</span><span class="p">);</span> <span class="c1">//undefined</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">colouredCircle</span><span class="p">.</span><span class="nx">colour</span><span class="p">);</span> <span class="c1">// red</span>
</span><span class="line"><span class="nx">Circle</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">describe</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="s2">&quot;This circle has a radius of: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">radius</span><span class="p">;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">simpleCircle</span><span class="p">.</span><span class="nx">describe</span><span class="p">());</span>
</span><span class="line"><span class="c1">// This circle has a radius of: 10</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">colouredCircle</span><span class="p">.</span><span class="nx">describe</span><span class="p">());</span> 
</span><span class="line"><span class="c1">// This circle has a radius of: 5</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>How to tell which property belongs to the orignial class of the object, and which one has been added through the prototype chain?</strong> This can be checked with the <code>hasOwnProperty</code> method of the object. For example:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">fnObj2</span><span class="p">();</span> <span class="c1">// as defined above</span>
</span><span class="line"><span class="nx">obj2</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span> <span class="c1">// -&gt; true</span>
</span><span class="line"><span class="nx">obj2</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s2">&quot;salary&quot;</span><span class="p">)</span> <span class="c1">// -&gt; false</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>The <code>eval()</code> method.</strong> Runs the JavaScript code, that is stored in a string:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
</span><span class="line"><span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;result = &#39;apple&#39; + &#39; &#39; + &#39;pie&#39;&quot;</span><span class="p">);</span>
</span><span class="line"><span class="c1">// result equals &quot;apple pie&quot; after eval</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="inheritance-and-prototype-chain">Inheritance and Prototype Chain</h3>

<p>Many of the materials in this section are taken form [<a href="https://developer.mozilla.org/en/JavaScript/Guide/Inheritance_and_the_prototype_chain">+</a>] (a must read):</p>

<blockquote>
  <p>A “constructor” in JavaScript is “just” a function that happens to be called with the new operator.</p>
</blockquote>

<p><strong><code>Object.create</code> method.</strong> Calling this method creates a new object. The prototype of this object is the first argument of the function.</p>

<p>This is an example:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">father</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">b</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
</span><span class="line">  <span class="nx">c</span><span class="o">:</span> <span class="mi">4</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">child</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">father</span><span class="p">);</span>
</span><span class="line"><span class="nx">child</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class="line"><span class="nx">child</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="c1">// child has properties &quot;a&quot;, and &quot;b&quot; as its own</span>
</span><span class="line"><span class="c1">// child.prototype &lt;- father</span>
</span><span class="line"><span class="c1">// child has properties &quot;c&quot;, and (shadowed) &quot;b&quot;</span>
</span><span class="line"><span class="c1">// from its prototype i.e., not its own</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Property Shadowing.</strong> Is something like method overriding. For example in the code above, property <code>b</code> from object <code>child</code>, hides the effect of property <code>b</code> from object <code>father</code>. This is called shadowing.</p>

<p><strong>Removing a property from an object</strong> can be achieved by calling <code>delete</code>. For example removing property <code>b</code>from object <code>child</code> is accomplished by calling:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">delete</span> <span class="nx">child</span><span class="p">.</span><span class="nx">b</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Doing this would neutralize the shadowing effect, and the <code>child.b</code> property would be that of its prototype, not of its own.</p>

<p><strong>The <code>call</code> method</strong> calls a method from an object, but with a different <code>this</code> provided. This is the syntax (many parts taken from [<a href="https://developer.mozilla.org/en/JavaScript/Guide/Inheritance_Revisited">+</a>]):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">FuncToCall</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">theNewThis</span><span class="p">,</span> <span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">,</span> <span class="p">...);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Consider this example (adapted from reference above):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">animals</span> <span class="o">=</span> <span class="p">[</span>
</span><span class="line">  <span class="p">{</span><span class="nx">species</span><span class="o">:</span> <span class="s1">&#39;Lion&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;King&#39;</span><span class="p">},</span>
</span><span class="line">  <span class="p">{</span><span class="nx">species</span><span class="o">:</span> <span class="s1">&#39;Whale&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Fail&#39;</span><span class="p">}</span>
</span><span class="line"><span class="p">];</span>
</span><span class="line">
</span><span class="line"><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">animals</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">species</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
</span><span class="line">  <span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="nx">animals</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>It defines a dynamic function which prints information from <code>this.species</code> and <code>this.name</code>. It then calls the function replacing <code>this</code> with each array item.</p>

<p>Another usage for <code>call</code> is chaining constructors (as in <code>C#</code> or <code>Java</code> we can call other constructors to do the initialization and then we do the rest). This is an example (again taken from reference above):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">Product</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">price</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span><span class="line">  <span class="k">this</span><span class="p">.</span><span class="nx">price</span> <span class="o">=</span> <span class="nx">price</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">price</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
</span><span class="line">    <span class="k">throw</span> <span class="nx">RangeError</span><span class="p">(</span><span class="s1">&#39;Cannot create product &quot;&#39;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span>
</span><span class="line">         <span class="s1">&#39;&quot; with a negative price&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">Food</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">price</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">Product</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">price</span><span class="p">);</span>
</span><span class="line">  <span class="k">this</span><span class="p">.</span><span class="nx">category</span> <span class="o">=</span> <span class="s1">&#39;food&#39;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In the above example we reused construction logic of <code>Product</code> for <code>Food</code> and continued further. However this technique emulates inheritance too. To make it look like a real inheritance we set <code>Product</code> as the prototype for<code>Food</code>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">Food</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Product</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Since functions such as <code>call</code> and <code>apply</code>, allow you to set the callers <code>this</code> context, you should not expect any more that <code>this</code> is a user-defined type; <code>this</code> can be anything, a <code>string</code>, or even a <code>numeric</code>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">invokee</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">message</span> <span class="p">){</span>
</span><span class="line">    <span class="k">return</span> <span class="k">this</span> <span class="o">+</span> <span class="nx">message</span><span class="p">;</span>    
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">invokee</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="s2">&quot;I am this! &quot;</span><span class="p">,</span> <span class="s2">&quot;Where did it come from?&quot;</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
</span><span class="line"><span class="c1">// &quot;I am this! Where did it come from?</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>See also this nice example taken from <a href="https://github.com/liammclennan/JavaScript-Koans">JavaScript Koans by Liam McLennan</a>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">handle</span><span class="o">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">intro</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="s2">&quot;Hello, my name is &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">handle</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span> 
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// calling a function with &#39;call&#39; lets us assign &#39;this&#39; explicitly</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">person</span><span class="p">.</span><span class="nx">intro</span><span class="p">.</span><span class="nx">call</span><span class="p">({</span><span class="nx">handle</span><span class="o">:</span> <span class="s2">&quot;Frank&quot;</span><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>The <code>apply</code> method</strong> operates just like <code>call</code>, except that it sends the arguments to the invokee function through an array:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">invokeeFunc</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="k">this</span> <span class="o">+</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line"><span class="c1">// using apply</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">sum1</span> <span class="o">=</span> <span class="nx">invokeeFunc</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
</span><span class="line"><span class="c1">// using call</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">sum2</span> <span class="o">=</span> <span class="nx">invokeeFunc</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span><span class="line"><span class="c1">// sum1 == sum2 == 6</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="emulating-maps-with-objects">Emulating maps with objects</h3>
<p>One can define objects to have a map functionality, e.g.,</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">map1</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="o">:</span> <span class="s2">&quot;Zero&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span> <span class="s2">&quot;Two&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map1</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="c1">// zero</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map1</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span> <span class="c1">// two</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map1</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">// undefined</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">map2</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;zero&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="o">:</span> <span class="mi">2</span> <span class="p">};</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map2</span><span class="p">[</span><span class="s2">&quot;zero&quot;</span><span class="p">]);</span> <span class="c1">// 0</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map2</span><span class="p">[</span><span class="s2">&quot;two&quot;</span><span class="p">]);</span> <span class="c1">// 2</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map2</span><span class="p">[</span><span class="s2">&quot;one&quot;</span><span class="p">]);</span> <span class="c1">// undefined</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="self-invoking-functions">Self-invoking functions</h3>

<p>This is how we can define and call a function in one statement:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="c1">//(func_definition)(func_arguments);</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">theMessage</span> <span class="o">=</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">;</span>
</span><span class="line"><span class="p">(</span>
</span><span class="line">    <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span> <span class="p">}</span>
</span><span class="line"><span class="p">)(</span><span class="nx">theMessage</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="theargumentsmap">The arguments map</h3>

<p>Every function, whether having defined a set of arguments or not, will have access to the arguments passed to it, through the <code>arguments</code> map. The <code>arguments</code> map, maps the argument index to its value, and has a <code>length</code>property:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="line">    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="nx">total</span> <span class="o">+=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">total</span><span class="p">;</span>
</span><span class="line"><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In JavaScript, you can pass any arguments of any type, and any number, to any function (no need to match the number of arguments with the parameters list). You can always access them through the <code>arguments</code> map.</p>

<h3 id="regular-expressions">Regular Expressions</h3>

<p>In JavaScript, regular expressions are objects instantiated from <code>RegExp</code>. However, one can create regular expression objects easily with syntactic sugars integrated into the language. Using them, regular expression objects are a special kind of string which are delimited within two slashes <code>/pattern/</code> instead of quotation marks, reminding unix style regular expression search programs and commands.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="sr">/\d+/</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>This has the benefit that the programmer does not need to escape the backslash characters in the pattern (something like at-quoted strings in C#). For example the equivalant object for the above pattern is:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Regexp</span><span class="p">(</span><span class="s2">&quot;\\d+&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Besides the pattern, one can make use of flags or modifiers which modify the behaviour of the regular expression engine [<a href="http://www.w3schools.com/jsref/jsref_obj_regexp.asp">+</a>]:</p>

<ul>
  <li><code>i</code>: Perform case-insensitive matching</li>
  <li><code>g</code>: Perform a global match (find all matches rather than stopping after the first match)</li>
  <li><code>m</code>: Perform multiline matching</li>
</ul>

<p>These flags can come after the closing slash of the pattern, or inside a string as the second argument to the <code>RegExp</code>constructor. For example the following defines a regular expression pattern that is going to find all of its matches within a given string case-insensitively:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="c1">// words beginning and ending in &quot;a&quot; or &quot;A&quot;</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="sr">/a\w*a/gi</span><span class="p">;</span>
</span><span class="line"><span class="c1">// ... or ...</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Regexp</span><span class="p">(</span><span class="s2">&quot;a\\w*a&quot;</span><span class="p">,</span> <span class="s2">&quot;gi&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>The <code>exec</code> method</strong> returns the matches of the whole regular expression as well as its groups. For example the following regular expression for matching words starting and ending with the character “a” returns also the “a” characters themselves, because they have been defined within a group (i.e., inside parantheses). Note that upon calling it returns only the first match, if any:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">regexp</span> <span class="o">=</span> <span class="sr">/(a)\w*(a)/</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s2">&quot;1. ABA 2. aba 3. aca!&quot;</span><span class="p">);</span>
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="nx">results</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;index: &quot;</span> <span class="o">+</span> <span class="nx">results</span><span class="p">.</span><span class="nx">index</span> <span class="o">+</span> <span class="s2">&quot; found [&quot;</span> <span class="o">+</span> <span class="nx">results</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Not found!&quot;</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="c1">// index: 10 found [aba,a,a] </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To find all the matches, we have to carry out these two steps: 1) add the <code>g</code> (global) flag to the regular expression pattern. 2) call <code>exec</code> iteratively until it returns null. Note that without adding the <code>g</code> flag, the second step will be trapped within an infinite loop. The following example looks for all words (hence the <code>g</code> flag) beginning and ending in the letter “a”, case-insensitively (hence the <code>i</code> flag):</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">regexp</span> <span class="o">=</span> <span class="sr">/(a)\w*(a)/ig</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="s2">&quot;1. ABA 2. aba 3. aca!&quot;</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
</span><span class="line"><span class="k">while</span><span class="p">(</span><span class="nx">results</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;index: &quot;</span> <span class="o">+</span> <span class="nx">results</span><span class="p">.</span><span class="nx">index</span> <span class="o">+</span> <span class="s2">&quot; found [&quot;</span> <span class="o">+</span> <span class="nx">results</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">);</span>
</span><span class="line">    <span class="nx">results</span> <span class="o">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span> 
</span><span class="line"><span class="c1">// index: 3 found [ABA,A,A]</span>
</span><span class="line"><span class="c1">// index: 10 found [aba,a,a]</span>
</span><span class="line"><span class="c1">// index: 17 found [aca,a,a] </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>The <code>test</code> method</strong> tests whether a string contains a pattern:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">doesItContain</span> <span class="o">=</span> <span class="sr">/ye(s|ah)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&quot;He said: yeah!&quot;</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">doesItContain</span><span class="p">);</span> <span class="c1">// true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>The string <code>match</code> method</strong> returns the match(es) of the specified regular expression within the caller string:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">matches</span> <span class="o">=</span> <span class="s2">&quot;1. ABA 2. aba 3. aca!&quot;</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/(a)\w*(a)/ig</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">matches</span><span class="p">);</span>
</span><span class="line"><span class="c1">//[&quot;ABA&quot;, &quot;aba&quot;, &quot;aca&quot;] </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>The string <code>replace</code> method</strong> replaces the instances of the found pattern within the given input string and returns the new string:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="s2">&quot;1. ABA 2. aba 3. aca!&quot;</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(a)\w*(a)/</span><span class="p">,</span> <span class="s2">&quot;oops&quot;</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> <span class="c1">// 1. ABA 2. oops 3. aca! </span>
</span><span class="line"><span class="c1">// add &quot;ig&quot; flags -&gt; case-insensitive global replace</span>
</span><span class="line"><span class="nx">result</span> <span class="o">=</span> <span class="s2">&quot;1. ABA 2. aba 3. aca!&quot;</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(a)\w*(a)/ig</span><span class="p">,</span> <span class="s2">&quot;oops&quot;</span><span class="p">);</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> <span class="c1">// 1. oops 2. oops 3. oops! </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>One of the beauties of the <code>replace</code> method is that it can receive a function as the second argument, so that we can decide dynamically on what to replace with each single instance of the found pattern:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="s2">&quot;1. ABA 2. aba 3. aca!&quot;</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(a)\w*(a)/ig</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">found</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="nx">found</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;A&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="s2">&quot;OOOPSS&quot;</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">found</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="s2">&quot;oobs&quot;</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="s2">&quot;oocs&quot;</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span> <span class="c1">// 1. OOOPSS 2. oobs 3. oocs!</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="the-use-strict-statement">The ‘use strict’ statement</h3>

<p>TL;DR. It prevents some bad usages of the language. Here’s a <a href="http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/">summary</a>.</p>

<p>This is the <a href="http://stackoverflow.com/questions/1335851/what-does-use-strict-do-in-javascript-and-what-is-the-reasoning-behind-it">Source</a>.</p>

<blockquote>
  <p>Strict Mode is a new feature in ECMAScript 5 that allows you to place a program, or a function, in a “strict” operating context. This strict context prevents certain actions from being taken and throws more exceptions.</p>
</blockquote>

<p>And:</p>

<blockquote>
  <p>Strict mode helps out in a couple ways:
* It catches some common coding bloopers, throwing exceptions.
* It prevents, or throws errors, when relatively “unsafe” actions are taken (such as gaining access to the global object).
* It disables features that are confusing or poorly thought out.</p>
</blockquote>

<p>Usage:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="c1">// Non-strict code...</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class="line">  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// Define your library strictly...</span>
</span><span class="line"><span class="p">})();</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Non-strict code... </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


  
    <footer>
      
      
        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://sinairv.github.io/notebook/JavaScriptPrimer.html" data-via="sinairv" data-counturl="http://sinairv.github.io/notebook/JavaScriptPrimer.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <a href="http://stackoverflow.com/users/836432/sina-iravanian">
<img src="http://stackoverflow.com/users/flair/836432.png?theme=dark" width="208" height="58" alt="profile for Sina Iravanian at Stack Overflow, Q&A for professional and enthusiast programmers" title="profile for Sina Iravanian at Stack Overflow, Q&A for professional and enthusiast programmers">
</a><a href="https://flattr.com/submit/auto?user_id=sinairv&url=http%3A%2F%2Fsinairv.github.io" target="_blank"><img src="//api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0"></a><a href='https://www.ohloh.net/accounts/143041?ref=Detailed'>
<img alt='Ohloh profile for Sina Iravanian' src='https://www.ohloh.net/accounts/143041/widgets/account_detailed.gif' />
</a>
<a href="https://github.com/sinairv"><img src="/images/github.png" alt="GitHub" title="GitHub" /></a>
<a href="http://www.linkedin.com/in/sinairv"><img src="/images/linkedin.png" alt="LinkedIn" title="LinkedIn" /></a>
<a href="https://twitter.com/sinairv"><img src="/images/twitter.png" alt="Twitter" title="Twitter" /></a>
<a href="http://nuget.org/profiles/sinairv"><img src="/images/nuget.png" alt="Nuget" title="Nuget" /></a>
<a href="http://www.codeplex.com/site/users/view/sina_iravanian"><img src="/images/codeplex.png" alt="CodePlex" title="CodePlex" /></a>
<a href="http://www.codeproject.com/Articles/Sina-Iravanian"><img src="/images/codeproject.png" alt="CodeProject" title="CodeProject" /></a>
<a href="http://sourceforge.net/users/sina_iravanian"><img src="/images/sourceforge.png" alt="Sourceforge" title="Sourceforge" /></a>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/05/18/powershell-the-switch-data-type/">PowerShell: The Switch Data-type</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/15/handy-extensions-for-inotifypropertychanged/">Handy Extensions for INotifyPropertyChanged</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/12/01/syntax-highlighter-for-windows-forms-rich-text-box/">Syntax Highlighter for Windows Forms Rich Text Box</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/20/the-pains-of-upgrading-android-studio/">The Pains of Upgrading Android Studio</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/10/moved-my-blog-to-octopress/">Moved My Blog to Octopress</a>
      </li>
    
  </ul>
</section>
<a class="twitter-timeline" href="https://twitter.com/sinairv" data-widget-id="412581503571214336">Tweets by @sinairv</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/sinairv">@sinairv</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sinairv',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/+SinaIravanian?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Sina Iravanian -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'sinairv';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://sinairv.github.io/notebook/JavaScriptPrimer.html';
        var disqus_url = 'http://sinairv.github.io/notebook/JavaScriptPrimer.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
